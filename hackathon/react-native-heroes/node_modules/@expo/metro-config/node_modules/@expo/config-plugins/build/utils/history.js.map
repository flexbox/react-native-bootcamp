{"version":3,"sources":["../../src/utils/history.ts"],"names":["getHistoryItem","config","name","_internal","pluginHistory","addHistoryItem","item","version"],"mappings":";;;;;;;;AAUO,SAASA,cAAT,CACLC,MADK,EAELC,IAFK,EAGqB;AAAA;;AAC1B,uDAAOD,MAAM,CAACE,SAAd,gFAAO,kBAAkBC,aAAzB,2DAAO,uBAAkCF,IAAlC,CAAP,yEAAkD,IAAlD;AACD;;AAEM,SAASG,cAAT,CACLJ,MADK,EAELK,IAFK,EAGO;AACZ,MAAI,CAACL,MAAM,CAACE,SAAZ,EAAuB;AACrBF,IAAAA,MAAM,CAACE,SAAP,GAAmB,EAAnB;AACD;;AACD,MAAI,CAACF,MAAM,CAACE,SAAP,CAAiBC,aAAtB,EAAqC;AACnCH,IAAAA,MAAM,CAACE,SAAP,CAAiBC,aAAjB,GAAiC,EAAjC;AACD;;AAED,MAAI,CAACE,IAAI,CAACC,OAAV,EAAmB;AACjBD,IAAAA,IAAI,CAACC,OAAL,GAAe,aAAf;AACD;;AAEDN,EAAAA,MAAM,CAACE,SAAP,CAAiBC,aAAjB,CAA+BE,IAAI,CAACJ,IAApC,IAA4CI,IAA5C;AAEA,SAAOL,MAAP;AACD","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { ModPlatform } from '../Plugin.types';\n\nexport type PluginHistoryItem = {\n  name: string;\n  version: string;\n  platform?: ModPlatform;\n};\n\nexport function getHistoryItem(\n  config: Pick<ExpoConfig, '_internal'>,\n  name: string\n): PluginHistoryItem | null {\n  return config._internal?.pluginHistory?.[name] ?? null;\n}\n\nexport function addHistoryItem(\n  config: ExpoConfig,\n  item: Omit<PluginHistoryItem, 'version'> & { version?: string }\n): ExpoConfig {\n  if (!config._internal) {\n    config._internal = {};\n  }\n  if (!config._internal.pluginHistory) {\n    config._internal.pluginHistory = {};\n  }\n\n  if (!item.version) {\n    item.version = 'UNVERSIONED';\n  }\n\n  config._internal.pluginHistory[item.name] = item;\n\n  return config;\n}\n"],"file":"history.js"}