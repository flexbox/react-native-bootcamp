{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../src/react/types/types.ts"],"names":[],"mappings":"","sourcesContent":["import { ReactNode } from 'react';\nimport { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\n\nimport { Observable, ObservableSubscription } from '../../utilities';\nimport { FetchResult } from '../../link/core';\nimport { ApolloError } from '../../errors';\nimport {\n  ApolloCache,\n  ApolloClient,\n  ApolloQueryResult,\n  DefaultContext,\n  FetchMoreOptions,\n  FetchMoreQueryOptions,\n  FetchPolicy,\n  MutationOptions,\n  NetworkStatus,\n  ObservableQuery,\n  OperationVariables,\n  InternalRefetchQueriesInclude,\n  WatchQueryOptions,\n} from '../../core';\n\n/* Common types */\n\nexport type { DefaultContext as Context } from \"../../core\";\n\nexport type CommonOptions<TOptions> = TOptions & {\n  client?: ApolloClient<object>;\n};\n\n/* Query types */\n\nexport interface BaseQueryOptions<TVariables = OperationVariables>\nextends Omit<WatchQueryOptions<TVariables>, \"query\"> {\n  ssr?: boolean;\n  client?: ApolloClient<any>;\n  context?: DefaultContext;\n}\n\nexport interface QueryFunctionOptions<\n  TData = any,\n  TVariables = OperationVariables\n> extends BaseQueryOptions<TVariables> {\n  displayName?: string;\n  skip?: boolean;\n  onCompleted?: (data: TData) => void;\n  onError?: (error: ApolloError) => void;\n}\n\nexport type ObservableQueryFields<TData, TVariables> = Pick<\n  ObservableQuery<TData, TVariables>,\n  | 'startPolling'\n  | 'stopPolling'\n  | 'subscribeToMore'\n  | 'updateQuery'\n  | 'refetch'\n  | 'variables'\n> & {\n  fetchMore: ((\n    fetchMoreOptions: FetchMoreQueryOptions<TVariables, TData> &\n      FetchMoreOptions<TData, TVariables>\n  ) => Promise<ApolloQueryResult<TData>>) &\n    (<TData2, TVariables2>(\n      fetchMoreOptions: { query?: DocumentNode | TypedDocumentNode<TData, TVariables> } & FetchMoreQueryOptions<\n        TVariables2,\n        TData\n      > &\n        FetchMoreOptions<TData2, TVariables2>\n    ) => Promise<ApolloQueryResult<TData2>>);\n};\n\nexport interface QueryResult<TData = any, TVariables = OperationVariables>\n  extends ObservableQueryFields<TData, TVariables> {\n  client: ApolloClient<any>;\n  data: TData | undefined;\n  previousData?: TData;\n  error?: ApolloError;\n  loading: boolean;\n  networkStatus: NetworkStatus;\n  called: boolean;\n}\n\nexport interface QueryDataOptions<TData = any, TVariables = OperationVariables>\n  extends QueryFunctionOptions<TData, TVariables> {\n  children?: (result: QueryResult<TData, TVariables>) => ReactNode;\n  query: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport interface QueryHookOptions<TData = any, TVariables = OperationVariables>\n  extends QueryFunctionOptions<TData, TVariables> {\n  query?: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport interface LazyQueryHookOptions<\n  TData = any,\n  TVariables = OperationVariables\n> extends Omit<QueryFunctionOptions<TData, TVariables>, 'skip'> {\n  query?: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport interface QueryLazyOptions<TVariables> {\n  variables?: TVariables;\n  context?: DefaultContext;\n}\n\n// TODO: Delete this\nexport type LazyQueryResult<TData, TVariables> = QueryResult<TData, TVariables>;\n\nexport type QueryTuple<TData, TVariables> = [\n  (options?: QueryLazyOptions<TVariables>) => Promise<LazyQueryResult<TData, TVariables>>,\n  LazyQueryResult<TData, TVariables>\n];\n\n/* Mutation types */\n\nexport type RefetchQueriesFunction = (\n  ...args: any[]\n) => InternalRefetchQueriesInclude;\n\nexport interface BaseMutationOptions<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>\n> extends Omit<\n  MutationOptions<TData, TVariables, TContext, TCache>,\n  | \"mutation\"\n> {\n  client?: ApolloClient<object>;\n  notifyOnNetworkStatusChange?: boolean;\n  onCompleted?: (data: TData) => void;\n  onError?: (error: ApolloError) => void;\n  ignoreResults?: boolean;\n}\n\nexport interface MutationFunctionOptions<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n> extends BaseMutationOptions<TData, TVariables, TContext, TCache> {\n  mutation?: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport interface MutationResult<TData = any> {\n  data?: TData | null;\n  error?: ApolloError;\n  loading: boolean;\n  called: boolean;\n  client: ApolloClient<object>;\n  reset(): void;\n}\n\nexport declare type MutationFunction<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n> = (\n  options?: MutationFunctionOptions<TData, TVariables, TContext, TCache>\n) => Promise<FetchResult<TData>>;\n\nexport interface MutationHookOptions<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n> extends BaseMutationOptions<TData, TVariables, TContext, TCache> {\n  mutation?: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport interface MutationDataOptions<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n> extends BaseMutationOptions<TData, TVariables, TContext, TCache> {\n  mutation: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport type MutationTuple<\n  TData,\n  TVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n> = [\n  (\n    options?: MutationFunctionOptions<TData, TVariables, TContext, TCache>\n  ) => Promise<FetchResult<TData>>,\n  MutationResult<TData>,\n];\n\n/* Subscription types */\n\nexport interface OnSubscriptionDataOptions<TData = any> {\n  client: ApolloClient<object>;\n  subscriptionData: SubscriptionResult<TData>;\n}\n\nexport interface BaseSubscriptionOptions<\n  TData = any,\n  TVariables = OperationVariables\n> {\n  variables?: TVariables;\n  fetchPolicy?: FetchPolicy;\n  shouldResubscribe?:\n    | boolean\n    | ((options: BaseSubscriptionOptions<TData, TVariables>) => boolean);\n  client?: ApolloClient<object>;\n  skip?: boolean;\n  context?: DefaultContext;\n  onSubscriptionData?: (options: OnSubscriptionDataOptions<TData>) => any;\n  onSubscriptionComplete?: () => void;\n}\n\nexport interface SubscriptionResult<TData = any, TVariables = any> {\n  loading: boolean;\n  data?: TData;\n  error?: ApolloError;\n  // This was added by the legacy useSubscription type, and is tested in unit\n  // tests, but probably shouldnâ€™t be added to the result.\n  variables?: TVariables;\n}\n\nexport interface SubscriptionHookOptions<\n  TData = any,\n  TVariables = OperationVariables\n> extends BaseSubscriptionOptions<TData, TVariables> {\n  subscription?: DocumentNode | TypedDocumentNode<TData, TVariables>;\n}\n\nexport interface SubscriptionDataOptions<\n  TData = any,\n  TVariables = OperationVariables\n> extends BaseSubscriptionOptions<TData, TVariables> {\n  subscription: DocumentNode | TypedDocumentNode<TData, TVariables>;\n  children?: null | ((result: SubscriptionResult<TData>) => JSX.Element | null);\n}\n\nexport interface SubscriptionCurrentObservable {\n  query?: Observable<any>;\n  subscription?: ObservableSubscription;\n}\n"]}