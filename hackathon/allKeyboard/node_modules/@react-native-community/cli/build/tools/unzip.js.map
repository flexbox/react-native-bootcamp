{"version":3,"sources":["../../src/tools/unzip.ts"],"names":["StreamZip","require","unzip","source","destination","Promise","resolve","reject","zip","file","storeEntries","on","extract","err","close"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,iBAAD,CAAzB;;AAEA,MAAMC,KAAK,GAAG,OAAOC,MAAP,EAAuBC,WAAvB,KAA+C;AAC3D,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAMC,GAAG,GAAG,IAAIR,SAAJ,CAAc;AACxBS,MAAAA,IAAI,EAAEN,MADkB;AAExBO,MAAAA,YAAY,EAAE;AAFU,KAAd,CAAZ;AAKA,+BAAWN,WAAX;AAEAI,IAAAA,GAAG,CAACG,EAAJ,CAAO,OAAP,EAAgB,MAAM;AACpBH,MAAAA,GAAG,CAACI,OAAJ,CAAY,IAAZ,EAAkBR,WAAlB,EAAgCS,GAAD,IAAuB;AACpDL,QAAAA,GAAG,CAACM,KAAJ;;AAEA,YAAID,GAAJ,EAAS;AACP,iBAAON,MAAM,CAACM,GAAD,CAAb;AACD;;AAEDP,QAAAA,OAAO;AACR,OARD;AASD,KAVD;AAWD,GAnBM,CAAP;AAoBD,CArBD","sourcesContent":["import {mkdirpSync} from 'fs-extra';\nconst StreamZip = require('node-stream-zip');\n\nconst unzip = async (source: string, destination: string) => {\n  return new Promise((resolve, reject) => {\n    const zip = new StreamZip({\n      file: source,\n      storeEntries: true,\n    });\n\n    mkdirpSync(destination);\n\n    zip.on('ready', () => {\n      zip.extract(null, destination, (err: Error | null) => {\n        zip.close();\n\n        if (err) {\n          return reject(err);\n        }\n\n        resolve();\n      });\n    });\n  });\n};\n\nexport {unzip};\n"]}