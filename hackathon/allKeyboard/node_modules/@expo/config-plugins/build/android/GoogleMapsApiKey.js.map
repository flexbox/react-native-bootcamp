{"version":3,"sources":["../../src/android/GoogleMapsApiKey.ts"],"names":["META_API_KEY","LIB_HTTP","withGoogleMapsApiKey","setGoogleMapsApiKey","getGoogleMapsApiKey","config","android","googleMaps","apiKey","androidManifest","mainApplication","name","required"],"mappings":";;;;;;;;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AASA,MAAMA,YAAY,GAAG,gCAArB;AACA,MAAMC,QAAQ,GAAG,wBAAjB;AAEO,MAAMC,oBAAoB,GAAG,mDAClCC,mBADkC,EAElC,sBAFkC,CAA7B;;;AAKA,SAASC,mBAAT,CAA6BC,MAA7B,EAAkE;AAAA;;AACvE,qDAAOA,MAAM,CAACC,OAAd,8EAAO,gBAAgBD,MAAvB,qFAAO,uBAAwBE,UAA/B,2DAAO,uBAAoCC,MAA3C,yEAAqD,IAArD;AACD;;AAEM,SAASL,mBAAT,CACLE,MADK,EAELI,eAFK,EAGL;AACA,QAAMD,MAAM,GAAGJ,mBAAmB,CAACC,MAAD,CAAlC;AACA,QAAMK,eAAe,GAAG,2CAA0BD,eAA1B,CAAxB;;AAEA,MAAID,MAAJ,EAAY;AACV;AACA,sDAAiCE,eAAjC,EAAkDV,YAAlD,EAAgEQ,MAAhE;AACA,yDAAoCE,eAApC,EAAqD;AACnDC,MAAAA,IAAI,EAAEV,QAD6C;AAEnDW,MAAAA,QAAQ,EAAE;AAFyC,KAArD;AAID,GAPD,MAOO;AACL;AACA,2DAAsCF,eAAtC,EAAuDV,YAAvD;AACA,8DAAyCU,eAAzC,EAA0DT,QAA1D;AACD;;AAED,SAAOQ,eAAP;AACD","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { createAndroidManifestPlugin } from '../plugins/android-plugins';\nimport {\n  addMetaDataItemToMainApplication,\n  addUsesLibraryItemToMainApplication,\n  AndroidManifest,\n  getMainApplicationOrThrow,\n  removeMetaDataItemFromMainApplication,\n  removeUsesLibraryItemFromMainApplication,\n} from './Manifest';\n\nconst META_API_KEY = 'com.google.android.geo.API_KEY';\nconst LIB_HTTP = 'org.apache.http.legacy';\n\nexport const withGoogleMapsApiKey = createAndroidManifestPlugin(\n  setGoogleMapsApiKey,\n  'withGoogleMapsApiKey'\n);\n\nexport function getGoogleMapsApiKey(config: Pick<ExpoConfig, 'android'>) {\n  return config.android?.config?.googleMaps?.apiKey ?? null;\n}\n\nexport function setGoogleMapsApiKey(\n  config: Pick<ExpoConfig, 'android'>,\n  androidManifest: AndroidManifest\n) {\n  const apiKey = getGoogleMapsApiKey(config);\n  const mainApplication = getMainApplicationOrThrow(androidManifest);\n\n  if (apiKey) {\n    // If the item exists, add it back\n    addMetaDataItemToMainApplication(mainApplication, META_API_KEY, apiKey);\n    addUsesLibraryItemToMainApplication(mainApplication, {\n      name: LIB_HTTP,\n      required: false,\n    });\n  } else {\n    // Remove any existing item\n    removeMetaDataItemFromMainApplication(mainApplication, META_API_KEY);\n    removeUsesLibraryItemFromMainApplication(mainApplication, LIB_HTTP);\n  }\n\n  return androidManifest;\n}\n"],"file":"GoogleMapsApiKey.js"}