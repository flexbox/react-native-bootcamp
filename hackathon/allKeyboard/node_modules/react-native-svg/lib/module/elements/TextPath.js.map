{"version":3,"sources":["TextPath.tsx"],"names":["TextPath","props","matrix","root","setNativeProps","children","xlinkHref","href","startOffset","method","spacing","side","alignmentBaseline","midLine","prop","matched","match","idPattern","ref","refMethod","console","warn","Shape"],"mappings":"ugCAAA,oDACA,yFACA,yDAEA,+EACA,iCACA,uDACA,sDACA,oD,qFAEqBA,CAAAA,Q,yfAaF,SACfC,KADe,CAKZ,CACH,GAAMC,CAAAA,MAAM,CAAG,CAACD,KAAK,CAACC,MAAP,EAAiB,8BAAiBD,KAAjB,CAAhC,CACA,GAAIC,MAAJ,CAAY,CACVD,KAAK,CAACC,MAAN,CAAeA,MAAf,CACD,CACD,sBAAcD,KAAd,CAAqB,qBAAW,yBAAYA,KAAZ,CAAmB,IAAnB,CAAX,CAArB,EACA,MAAKE,IAAL,EAAa,MAAKA,IAAL,CAAUC,cAAV,CAAyBH,KAAzB,CAAb,CACD,C,yFAEQ,iBAYH,KAAKA,KAZF,CAELI,QAFK,aAELA,QAFK,CAGLC,SAHK,aAGLA,SAHK,8BAILC,IAJK,CAILA,IAJK,2BAIED,SAJF,oDAKLE,WALK,CAKLA,WALK,gCAKS,CALT,uBAMLC,MANK,aAMLA,MANK,CAOLC,OAPK,aAOLA,OAPK,CAQLC,IARK,aAQLA,IARK,CASLC,iBATK,aASLA,iBATK,CAULC,OAVK,aAULA,OAVK,CAWFC,IAXE,0JAaP,GAAMC,CAAAA,OAAO,CAAGR,IAAI,EAAIA,IAAI,CAACS,KAAL,CAAWC,eAAX,CAAxB,CACA,GAAMD,CAAAA,KAAK,CAAGD,OAAO,EAAIA,OAAO,CAAC,CAAD,CAAhC,CACA,GAAIC,KAAJ,CAAW,CACT,GAAMf,CAAAA,KAAK,CAAG,4BAAU,IAAV,CAAgBa,IAAhB,CAAd,CACA,sBACEb,KADF,CAEE,yBACE,CACEI,QAAQ,CAARA,QADF,CADF,CAIE,IAJF,CAFF,CAQE,CACEE,IAAI,CAAES,KADR,CAEER,WAAW,CAAXA,WAFF,CAGEC,MAAM,CAANA,MAHF,CAIEC,OAAO,CAAPA,OAJF,CAKEC,IAAI,CAAJA,IALF,CAMEC,iBAAiB,CAAjBA,iBANF,CAOEC,OAAO,CAAPA,OAPF,CARF,EAkBAZ,KAAK,CAACiB,GAAN,CAAY,KAAKC,SAAjB,CACA,MAAO,8BAAC,+BAAD,0BAAmBlB,KAAnB,mDAAP,CACD,CAEDmB,OAAO,CAACC,IAAR,CACE,qFACEd,IADF,CAEE,GAHJ,EAKA,MACE,8BAAC,cAAD,EAAO,GAAG,CAAE,KAAKY,SAAjB,iDACGd,QADH,CADF,CAKD,C,sBA5EmCiB,e,wDAAjBtB,Q,eAWE,U","sourcesContent":["import React, { Component } from 'react';\nimport extractTransform from '../lib/extract/extractTransform';\nimport { withoutXY } from '../lib/extract/extractProps';\nimport { NumberProp, TransformProps } from '../lib/extract/types';\nimport extractText from '../lib/extract/extractText';\nimport { idPattern, pickNotNil } from '../lib/util';\nimport Shape from './Shape';\nimport TSpan from './TSpan';\nimport { RNSVGTextPath } from './NativeComponents';\n\nexport default class TextPath extends Shape<{\n  children?: NumberProp | [NumberProp | React.ComponentType];\n  alignmentBaseline?: string;\n  startOffset?: NumberProp;\n  xlinkHref?: string;\n  midLine?: string;\n  spacing?: string;\n  method?: string;\n  href?: string;\n  side?: string;\n}> {\n  static displayName = 'TextPath';\n\n  setNativeProps = (\n    props: Object & {\n      matrix?: number[];\n      style?: [] | {};\n    } & TransformProps,\n  ) => {\n    const matrix = !props.matrix && extractTransform(props);\n    if (matrix) {\n      props.matrix = matrix;\n    }\n    Object.assign(props, pickNotNil(extractText(props, true)));\n    this.root && this.root.setNativeProps(props);\n  };\n\n  render() {\n    const {\n      children,\n      xlinkHref,\n      href = xlinkHref,\n      startOffset = 0,\n      method,\n      spacing,\n      side,\n      alignmentBaseline,\n      midLine,\n      ...prop\n    } = this.props;\n    const matched = href && href.match(idPattern);\n    const match = matched && matched[1];\n    if (match) {\n      const props = withoutXY(this, prop);\n      Object.assign(\n        props,\n        extractText(\n          {\n            children,\n          },\n          true,\n        ),\n        {\n          href: match,\n          startOffset,\n          method,\n          spacing,\n          side,\n          alignmentBaseline,\n          midLine,\n        },\n      );\n      props.ref = this.refMethod as (instance: Component | null) => void;\n      return <RNSVGTextPath {...props} />;\n    }\n\n    console.warn(\n      'Invalid `href` prop for `TextPath` element, expected a href like \"#id\", but got: \"' +\n        href +\n        '\"',\n    );\n    return (\n      <TSpan ref={this.refMethod as (instance: Component | null) => void}>\n        {children}\n      </TSpan>\n    );\n  }\n}\n"]}