{"version":3,"sources":["../../src/tools/downloadAndUnzip.ts"],"names":["downloadAndUnzip","loader","downloadUrl","component","installPath","start","installer","text"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;;AACA;;AAEA;;;;AAIO,MAAMA,gBAAgB,GAAG,OAAO;AACrCC,EAAAA,MADqC;AAErCC,EAAAA,WAFqC;AAGrCC,EAAAA,SAHqC;AAIrCC,EAAAA;AAJqC,CAAP,KAU1B;AACJH,EAAAA,MAAM,CAACI,KAAP,CACG,eAAcF,SAAU,UAASD,WAAY,iCADhD;AAIA,QAAMI,SAAS,GAAG,MAAM,6BAAYJ,WAAZ,CAAxB;AAEAD,EAAAA,MAAM,CAACM,IAAP,GAAe,cAAaJ,SAAU,QAAOC,WAAY,GAAzD;;AACA,MAAI;AACF,UAAM,kBAAME,SAAN,EAAiBF,WAAjB,CAAN;AACD,GAFD,SAEU;AACR,UAAM,4BAAWE,SAAX,CAAN;AACD;AACF,CAvBM","sourcesContent":["import {fetchToTemp} from '@react-native-community/cli-tools';\n\nimport * as ora from 'ora';\nimport {unzip} from './unzip';\nimport {deleteFile} from './deleteFile';\n\n/**\n * Downloads `downloadUrl` and unzips the contents to `installPath` while\n * updating the message of `loader` at each step.\n */\nexport const downloadAndUnzip = async ({\n  loader,\n  downloadUrl,\n  component,\n  installPath,\n}: {\n  loader: ora.Ora;\n  component: string;\n  downloadUrl: string;\n  installPath: string;\n}) => {\n  loader.start(\n    `Downloading ${component} from \"${downloadUrl}\" (this may take a few minutes)`,\n  );\n\n  const installer = await fetchToTemp(downloadUrl);\n\n  loader.text = `Installing ${component} in \"${installPath}\"`;\n  try {\n    await unzip(installer, installPath);\n  } finally {\n    await deleteFile(installer);\n  }\n};\n"]}