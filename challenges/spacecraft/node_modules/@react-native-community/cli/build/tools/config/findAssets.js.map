{"version":3,"sources":["../../../src/tools/config/findAssets.ts"],"names":["findAssetsInFolder","folder","assets","glob","sync","path","join","nodir","process","platform","map","asset","split","findAssets","reduce","acc","assetPath","concat"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,MAAMA,kBAAkB,GAAIC,MAAD,IAA8B;AACvD,QAAMC,MAAM,GAAGC,gBAAKC,IAAL,CAAUC,gBAAKC,IAAL,CAAUL,MAAV,EAAkB,IAAlB,CAAV,EAAmC;AAACM,IAAAA,KAAK,EAAE;AAAR,GAAnC,CAAf;;AACA,MAAIC,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;AAChC,WAAOP,MAAM,CAACQ,GAAP,CAAYC,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAY,GAAZ,EAAiBN,IAAjB,CAAsB,IAAtB,CAAtB,CAAP;AACD;;AACD,SAAOJ,MAAP;AACD,CAND;AAQA;;;;;;;;AAMe,SAASW,UAAT,CACbZ,MADa,EAEbC,MAFa,EAGE;AACf,SAAO,CAACA,MAAM,IAAI,EAAX,EACJQ,GADI,CACCC,KAAD,IAAWN,gBAAKC,IAAL,CAAUL,MAAV,EAAkBU,KAAlB,CADX,EAEJG,MAFI,CAGH,CAACC,GAAD,EAAMC,SAAN,KAAoBD,GAAG,CAACE,MAAJ,CAAWjB,kBAAkB,CAACgB,SAAD,CAA7B,CAHjB,EAIH,EAJG,CAAP;AAMD","sourcesContent":["import glob from 'glob';\nimport path from 'path';\n\nconst findAssetsInFolder = (folder: string): string[] => {\n  const assets = glob.sync(path.join(folder, '**'), {nodir: true});\n  if (process.platform === 'win32') {\n    return assets.map((asset) => asset.split('/').join('\\\\'));\n  }\n  return assets;\n};\n\n/**\n * Given an array of assets folders, e.g. ['Fonts', 'Images'],\n * it globs in them to find all files that can be copied.\n *\n * It returns an array of absolute paths to files found.\n */\nexport default function findAssets(\n  folder: string,\n  assets: Array<string>,\n): Array<string> {\n  return (assets || [])\n    .map((asset) => path.join(folder, asset))\n    .reduce(\n      (acc, assetPath) => acc.concat(findAssetsInFolder(assetPath)),\n      [] as string[],\n    );\n}\n"]}