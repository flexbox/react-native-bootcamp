{"version":3,"sources":["../../../src/tools/config/errors.ts"],"names":["JoiError","CLIError","constructor","joiError","message","details","map","error","name","path","join","type","value","JSON","stringify","context","trim","Error","captureStackTrace"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGO,MAAMA,QAAN,SAAuBC,oBAAvB,CAAgC;AACrCC,EAAAA,WAAW,CAACC,QAAD,EAA4B;AACrC,UAAMC,OAAO,GAAGD,QAAQ,CAACE,OAAT,CACbC,GADa,CACRC,KAAD,IAAW;AACd,YAAMC,IAAI,GAAGD,KAAK,CAACE,IAAN,CAAWC,IAAX,CAAgB,GAAhB,CAAb;;AACA,cAAQH,KAAK,CAACI,IAAd;AACE,aAAK,qBAAL;AAA4B;AAC1B,kBAAMC,KAAK,GAAGC,IAAI,CAACC,SAAL,CAAeP,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcH,KAA9C,CAAd;AACA,mBAAQ;+BACWJ,IAAK,gBAAeI,KAAM;;aAD7C;AAID;;AACD;AACE,iBAAOL,KAAK,CAACH,OAAb;AATJ;AAWD,KAda,EAebM,IAfa,GAgBbM,IAhBa,EAAhB;AAkBA,UAAMZ,OAAN;AACA,SAAKI,IAAL,GAAY,yBAAZ;;AAEA,QAAIS,KAAK,CAACC,iBAAV,EAA6B;AAC3BD,MAAAA,KAAK,CAACC,iBAAN,CAAwB,IAAxB,EAA8BlB,QAA9B;AACD;AACF;;AA1BoC","sourcesContent":["import {CLIError} from '@react-native-community/cli-tools';\nimport {ValidationError} from 'joi';\n\nexport class JoiError extends CLIError {\n  constructor(joiError: ValidationError) {\n    const message = joiError.details\n      .map((error) => {\n        const name = error.path.join('.');\n        switch (error.type) {\n          case 'object.allowUnknown': {\n            const value = JSON.stringify(error.context && error.context.value);\n            return `\n              Unknown option ${name} with value \"${value}\" was found.\n              This is either a typing error or a user mistake. Fixing it will remove this message.\n            `;\n          }\n          default:\n            return error.message;\n        }\n      })\n      .join()\n      .trim();\n\n    super(message);\n    this.name = 'Config Validation Error';\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, JoiError);\n    }\n  }\n}\n"]}