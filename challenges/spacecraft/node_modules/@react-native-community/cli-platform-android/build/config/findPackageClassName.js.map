{"version":3,"sources":["../../src/config/findPackageClassName.ts"],"names":["getPackageClassName","folder","files","glob","sync","cwd","packages","map","filePath","fs","readFileSync","path","join","matchClassName","filter","match","length","file"],"mappings":";;;;;;;;AAQA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAVA;;;;;;;AAYe,SAASA,mBAAT,CAA6BC,MAA7B,EAA6C;AAC1D,QAAMC,KAAK,GAAGC,gBAAKC,IAAL,CAAU,mBAAV,EAA+B;AAACC,IAAAA,GAAG,EAAEJ;AAAN,GAA/B,CAAd;;AAEA,QAAMK,QAAQ,GAAGJ,KAAK,CACnBK,GADc,CACTC,QAAD,IAAcC,cAAGC,YAAH,CAAgBC,gBAAKC,IAAL,CAAUX,MAAV,EAAkBO,QAAlB,CAAhB,EAA6C,MAA7C,CADJ,EAEdD,GAFc,CAEVM,cAFU,EAGdC,MAHc,CAGNC,KAAD,IAAWA,KAHJ,CAAjB,CAH0D,CAQ1D;;AACA,SAAOT,QAAQ,CAACU,MAAT,GAAkBV,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,CAAlB,GAAmC,IAA1C;AACD;;AAEM,SAASO,cAAT,CAAwBI,IAAxB,EAAsC;AAC3C,SAAOA,IAAI,CAACF,KAAL,CACL,gFADK,CAAP;AAGD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport fs from 'fs';\nimport glob from 'glob';\nimport path from 'path';\n\nexport default function getPackageClassName(folder: string) {\n  const files = glob.sync('**/+(*.java|*.kt)', {cwd: folder});\n\n  const packages = files\n    .map((filePath) => fs.readFileSync(path.join(folder, filePath), 'utf8'))\n    .map(matchClassName)\n    .filter((match) => match);\n\n  // @ts-ignore\n  return packages.length ? packages[0][1] : null;\n}\n\nexport function matchClassName(file: string) {\n  return file.match(\n    /class\\s+(\\w+[^(\\s]*)[\\s\\w():]*(\\s+implements\\s+|:)[\\s\\w():,]*[^{]*ReactPackage/,\n  );\n}\n"]}