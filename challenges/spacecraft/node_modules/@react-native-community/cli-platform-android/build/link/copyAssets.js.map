{"version":3,"sources":["../../src/link/copyAssets.ts"],"names":["copyAssetsAndroid","files","project","assets","logger","debug","assetsPath","font","forEach","asset","fontsDir","path","join","fs","copySync","basename"],"mappings":";;;;;;;AAQA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAVA;;;;;;;;AAYA;;;;;;AAMe,SAASA,iBAAT,CACbC,KADa,EAEbC,OAFa,EAGb;AACA,QAAMC,MAAM,GAAG,kCAAiBF,KAAjB,CAAf;;AAEAG,qBAAOC,KAAP,CAAc,gBAAeH,OAAO,CAACI,UAAW,EAAhD;;AACA,GAACH,MAAM,CAACI,IAAP,IAAe,EAAhB,EAAoBC,OAApB,CAA6BC,KAAD,IAAW;AACrC,UAAMC,QAAQ,GAAGC,gBAAKC,IAAL,CAAUV,OAAO,CAACI,UAAlB,EAA8B,OAA9B,CAAjB;;AACAF,uBAAOC,KAAP,CAAc,iBAAgBI,KAAM,EAApC,EAFqC,CAGrC;AACA;;;AACAI,uBAAGC,QAAH,CAAYL,KAAZ,EAAmBE,gBAAKC,IAAL,CAAUF,QAAV,EAAoBC,gBAAKI,QAAL,CAAcN,KAAd,CAApB,CAAnB;AACD,GAND;AAOD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport fs from 'fs-extra';\nimport path from 'path';\nimport {logger, groupFilesByType} from '@react-native-community/cli-tools';\n\n/**\n * Copies each file from an array of assets provided to targetPath directory\n *\n * For now, the only types of files that are handled are:\n * - Fonts (otf, ttf) - copied to targetPath/fonts under original name\n */\nexport default function copyAssetsAndroid(\n  files: Array<string>,\n  project: {assetsPath: string},\n) {\n  const assets = groupFilesByType(files);\n\n  logger.debug(`Assets path: ${project.assetsPath}`);\n  (assets.font || []).forEach((asset) => {\n    const fontsDir = path.join(project.assetsPath, 'fonts');\n    logger.debug(`Copying asset ${asset}`);\n    // @todo: replace with fs.mkdirSync(path, {recursive}) + fs.copyFileSync\n    // and get rid of fs-extra once we move to Node 10\n    fs.copySync(asset, path.join(fontsDir, path.basename(asset)));\n  });\n}\n"]}